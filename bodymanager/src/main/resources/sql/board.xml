<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
 <select id="list_all" parameterType="Map" resultType="com.command.BoardCommand" >
 		select BOARD_NUM, SUBJECT, CONTENT, USER_ID, REG_DATE, REF_G, RE_STEP, RE_LEVEL, CAT_ID, READCOUNT , r from 
			(select BOARD_NUM, SUBJECT, CONTENT, USER_ID, REG_DATE, REF_G, RE_STEP, RE_LEVEL, CAT_ID, READCOUNT , rownum r from
		     	 (select BOARD_NUM, SUBJECT, CONTENT, USER_ID, REG_DATE, REF_G, RE_STEP, RE_LEVEL, CAT_ID, READCOUNT from  board order by ref_g desc, re_step asc)
			 order by ref_g desc, re_step asc) where <![CDATA[ r >=  ]]> #{startRow} and <![CDATA[ r <= ]]> #{endRow}  
</select>
<select id="list_count" resultType="int">
    select count(*) from board    
</select>

<select id="select_detail" parameterType="int" resultType="com.command.BoardCommand">
    select * from board
    where BOARD_NUM=#{BOARD_NUM}
</select>

</mapper>
   